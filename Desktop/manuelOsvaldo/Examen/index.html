<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego del Ahorcado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        h1 {
            color: #333;
        }

        #campoPalabra, #letrasIncorrectas, #estadoAhorcado, #mensajeFinal {
            margin: 10px;
            font-size: 1.2em;
        }

        #mensajeFinal {
            font-weight: bold;
            color: #d9534f;
        }
    </style>
</head>
<body>
    <h1>Juego del Ahorcado</h1>

    <!--palabra oculta-->
    <div id="campoPalabra"></div>

    <!--letras incorrectas-->
    <div id="letrasIncorrectas"></div>

    <!--intentos restantes-->
    <div id="estadoAhorcado"></div>

    <!--mensaje final-->
    <div id="mensajeFinal"></div>

    <script>
        //palabras para el juego
        const palabras = ['mexico', 'indonesia', 'china', 'uruguay', 'francia'];

        //DOM
        const campoPalabra = document.getElementById('campoPalabra');
        const letrasIncorrectasDiv = document.getElementById('letrasIncorrectas');
        const estadoAhorcado = document.getElementById('estadoAhorcado');
        const mensajeFinal = document.getElementById('mensajeFinal');

        let palabraSeleccionada = '';
        let palabraMostrar = [];
        let letrasIncorrectas = [];
        let intentosRestantes = 10;

        //selecciona palabra aleatoria
        function seleccionarPalabra() {
            palabraSeleccionada = palabras[Math.floor(Math.random() * palabras.length)];
            // Inicializar la palabra oculta con guiones bajos
            palabraMostrar = Array(palabraSeleccionada.length).fill('_');
            mostrarPalabra();
        }

        //mostrar la palabra oculta
        function mostrarPalabra() {
            campoPalabra.textContent = palabraMostrar.join(' ');
        }

        //evento para obtener letra del teclado
        function obtenerLetra(evento) {
            const letra = evento.key.toLowerCase();
            //validación de solo letras del alfabeto
            if (!/^[a-z]$/.test(letra)) return;

            //verifica duplicidad de letras ingresadas
            if (palabraSeleccionada.includes(letra)) {
                actualizarPalabra(letra);
            } else {
                if (!letrasIncorrectas.includes(letra)) {
                    letrasIncorrectas.push(letra);
                    intentosRestantes--;
                    actualizarEstadoAhorcado();
                }
            }

            //verifica estado del juego
            verificarEstadoJuego();
        }

        //mostrar letras ingresadas
        function actualizarPalabra(letra) {
            for (let i = 0; i < palabraSeleccionada.length; i++) {
                if (palabraSeleccionada[i] === letra) {
                    palabraMostrar[i] = letra;
                }
            }
            mostrarPalabra();
        }

        //actualizaa las letras incorrectas y el estado del ahorcado
        function actualizarEstadoAhorcado() {
            letrasIncorrectasDiv.textContent = `Letras incorrectas: ${letrasIncorrectas}`;
            estadoAhorcado.textContent = `Intentos restantes: ${intentosRestantes}`;
        }

        //verifica estado del juego
        function verificarEstadoJuego() {
            if (palabraMostrar.join('') === palabraSeleccionada) {
                mensajeFinal.textContent = '¡Ganaste!';
                document.removeEventListener('keydown', obtenerLetra);
            } else if (intentosRestantes === 0) {
                mensajeFinal.textContent = `Perdiste, la palabra era: ${palabraSeleccionada}`;
                document.removeEventListener('keydown', obtenerLetra);
            }
        }

        //muestra mensaje (asincrono)
        function mostrarMensaje(mensaje) {
            setTimeout(() => {
                alert(mensaje);
            }, 2000);
        }

        //se inicia el juego seleccionando una palabra
        seleccionarPalabra();
        document.addEventListener('keydown', obtenerLetra);
    </script>
</body>
</html>
